<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.comfunny.server.proj.sys.repository.DomainDao">


    <select id="selectDomainList" resultType="HMap" >
        SELECT
            DO.DOMAIN_ID
             ,	MIN(DO.KO_CD)		AS KO_NM
             ,	MIN(DO.EN_CD)		AS EN_NM
             ,	MIN(DO.VI_CD)		AS VI_NM
        FROM	(
                    SELECT
                        DOMAIN_ID
                         , DOMAIN_NM
                         , (CASE WHEN LANG_CD = 'ko' THEN DOMAIN_NM END)	AS KO_CD
                         , (CASE WHEN LANG_CD = 'en' THEN DOMAIN_NM END)	AS EN_CD
                         , (CASE WHEN LANG_CD = 'vi' THEN DOMAIN_NM END)	AS VI_CD
                    FROM tb_sy_domain
                   WHERE BIZ_CD = #{s_bizCd}
                ) AS DO
        GROUP BY    DO.DOMAIN_ID
    </select>
</mapper>
