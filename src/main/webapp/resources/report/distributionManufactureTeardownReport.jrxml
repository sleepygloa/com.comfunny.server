<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="distributionManufactureTeardownReport" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isFloatColumnFooter="true" uuid="74eabd2c-4279-40bd-adf3-2155dcc14e03">
	<property name="ireport.zoom" value="1.239669421487619"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="DISTMANFNO" class="java.lang.String"/>
	<parameter name="COMPANYCD" class="java.lang.String"/>
	<parameter name="CLIENTCD" class="java.lang.String"/>
	<parameter name="DCCD" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="USERNM" class="java.lang.String"/>
	<parameter name="subReport" class="net.sf.jasperreports.engine.JasperReport">
		<defaultValueExpression><![CDATA[$P{SUBREPORT_DIR} + "distributionManufactureTeardownReport_subreport1.jasper"]]></defaultValueExpression>
	</parameter>
	<parameter name="subReport2" class="net.sf.jasperreports.engine.JasperReport">
		<defaultValueExpression><![CDATA[$P{SUBREPORT_DIR} + "distributionManufactureTeardownReport_subreport2.jasper"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT /* [DistributionManufactureService.query][getDistributionManufactureTeardownReportList][유통가공 해체지시서 레포트 조회][Kim Seon Ho][2017-09-25] */
               M.COMPANY_CD                                                 AS COMPANYCD    -- 회사번호
             , DC.DC_CD                                                     AS DCCD         -- 물류센터코드
             , CL.CLIENT_CD                                                 AS CLIENTCD     -- 고객사코드
             , M.DIST_MANF_NO                                               AS DISTMANFNO   -- 유통가공번호
             , (SELECT USER_NM
                  FROM TB_PARAGON_USER_INFO
                 WHERE USER_ID = $P{USERNM}
                   AND USE_YN = 'Y'
               )                                                            AS USERNM       --사용자명
             , MAX(CL.CLIENT_NM)                                            AS CLIENTNM
             , MAX(DC.DC_NM)                                                AS DCNM
             , MAX(W.LOC_CD)                                                     AS LOCCD        --로케이션코드
             , MAX(TO_CHAR(TO_DATE(M.WORK_YMD, 'YYYY-MM-DD'), 'YYYY-MM-DD'))     AS WORKYMD      -- 작업일자
             , MAX(TO_CHAR(sysdate, 'YYYY-MM-DD HH24:MI:SS'))                       AS YMD           --출력일자
          FROM TB_ST_DIST_MANF_M M, TB_ST_DIST_MANF_D D
             , (SELECT MS5.COMPANY_CD
                     , MS5.CLIENT_CD
                     , MS5.ITEM_CD
                     , MS5.ITEM_NM
                     , MS5.ITEM_SPEC
                     , MS5.WEIGHT
                     , MS6.STD_UOM_CD || '/' || MS6.CONV_UOM_CD AS UOM
                     , MS6.CONV_UOM_QTY AS PKQTY
                     , MS5.SET_ITEM_YN
                  FROM TB_MS_ITEM_M             MS5
                     , TB_MS_ITEM_UOM_M         MS6
                 WHERE MS5.COMPANY_CD = MS6.COMPANY_CD
                   AND MS5.CLIENT_CD = MS6.CLIENT_CD
                   AND MS5.ITEM_CD = MS6.ITEM_CD
                   AND MS6.LOAD_GBN_CD = '2'
                   AND MS5.USE_YN          = 'Y'
                   AND MS6.USE_YN          = 'Y'
               ) ITEM
               , TB_MS_ITEM_UOM_M UOM
               , TB_MS_CLIENT_M CL
               , TB_MS_DC_M DC
               , (SELECT COMPANY_CD, CODE_GROUP_CD, CODE_CD, CODE_NM FROM TB_PARAGON_COMM_CODE) CD1
               , TB_ST_DIST_MANF_W W
               , TB_ST_LOT_ID_M LOT
          WHERE M.COMPANY_CD            = D.COMPANY_CD
          AND   M.DIST_MANF_NO          = D.DIST_MANF_NO
          AND   M.WORK_ST_CD            = D.WORK_ST_CD
          AND   D.COMPANY_CD            = W.COMPANY_CD(+)
          AND   D.DIST_MANF_NO          = W.DIST_MANF_NO(+)
          AND   D.DIST_MANF_DETAIL_SEQ  = W.DIST_MANF_DETAIL_SEQ(+)
          AND   M.COMPANY_CD            = ITEM.COMPANY_CD
          AND   M.CLIENT_CD             = ITEM.CLIENT_CD
          AND   D.ITEM_CD               = ITEM.ITEM_CD
          AND   M.COMPANY_CD            = UOM.COMPANY_CD
          AND   M.CLIENT_CD             = UOM.CLIENT_CD
          AND   ITEM.ITEM_CD            = UOM.ITEM_CD
          AND   M.COMPANY_CD            = CL.COMPANY_CD
          AND   M.CLIENT_CD             = CL.CLIENT_CD
          AND   M.COMPANY_CD            = DC.COMPANY_CD
          AND   M.DC_CD                 = DC.DC_CD
          AND   D.COMPANY_CD            = CD1.COMPANY_CD(+)
          AND   D.ITEM_ST_CD            = CD1.CODE_CD(+)
          AND   CD1.CODE_GROUP_CD(+)    = 'ITEM_ST_CD'
          AND   M.COMPANY_CD            = LOT.COMPANY_CD
          AND   M.DC_CD                 = LOT.DC_CD
          AND   W.LOT_ID                = LOT.LOT_ID
          AND   UOM.LOAD_GBN_CD         = '2'
          AND   M.COMPANY_CD            = $P{COMPANYCD}
          AND   M.CLIENT_CD             = $P{CLIENTCD}
          AND   M.DC_CD                 = $P{DCCD}
          AND   M.DIST_MANF_NO          = $P{DISTMANFNO}
          AND   ITEM.SET_ITEM_YN        = 'Y'
    GROUP BY M.COMPANY_CD, DC.DC_CD, CL.CLIENT_CD, M.DIST_MANF_NO
    ORDER BY M.DIST_MANF_NO]]>
	</queryString>
	<field name="COMPANYCD" class="java.lang.String"/>
	<field name="DCCD" class="java.lang.String"/>
	<field name="CLIENTCD" class="java.lang.String"/>
	<field name="DISTMANFNO" class="java.lang.String"/>
	<field name="USERNM" class="java.lang.String"/>
	<field name="CLIENTNM" class="java.lang.String"/>
	<field name="DCNM" class="java.lang.String"/>
	<field name="LOCCD" class="java.lang.String"/>
	<field name="WORKYMD" class="java.lang.String"/>
	<field name="YMD" class="java.lang.String"/>
	<group name="distManfNoGrp" isStartNewPage="true">
		<groupExpression><![CDATA[$F{DISTMANFNO}]]></groupExpression>
		<groupHeader>
			<band height="165">
				<staticText>
					<reportElement x="307" y="19" width="189" height="30" uuid="a97819b6-b55f-4cc6-8293-6c139312a851"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="20" isUnderline="true" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[세트해체지시서]]></text>
				</staticText>
				<staticText>
					<reportElement x="22" y="119" width="58" height="20" uuid="25e4e3ea-6b01-48a0-9dd1-b9f61b659c3b"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[고객사 : ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="85" y="119" width="100" height="20" uuid="0dd6e56d-5b21-4d10-bd19-8320ad338331"/>
					<textElement verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CLIENTNM}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="22" y="99" width="58" height="20" uuid="c137d9eb-5e27-4fbb-bfe2-c7f1f840adb4"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
						<paragraph lineSpacing="Single"/>
					</textElement>
					<text><![CDATA[물류센터 : ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="85" y="99" width="100" height="20" uuid="4edae26a-5d90-4bd4-a8c1-931d10f00200"/>
					<textElement verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{DCCD}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="665" y="19" width="56" height="20" uuid="b628774f-8013-407a-aca9-837bc8032921"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[지시자]]></text>
				</staticText>
				<staticText>
					<reportElement x="721" y="19" width="56" height="20" uuid="62146a33-671c-4d7c-981c-0b4caed66925"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[작업자]]></text>
				</staticText>
				<staticText>
					<reportElement x="618" y="99" width="58" height="20" uuid="e9838a59-25cd-40dd-92e6-d1e9d833aedd"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[출력일시 : ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="682" y="99" width="93" height="20" uuid="88aec2e4-9f39-4bc6-9960-d29a1e78b0af"/>
					<textElement verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{YMD}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="618" y="119" width="58" height="20" uuid="3695e2ad-5c7f-421a-85e9-7a658cf03e97"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[출 력 자 : ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="682" y="119" width="93" height="20" uuid="26847a7a-6ec3-42b7-b294-8e8351e6a2e4"/>
					<textElement verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{USERNM}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="618" y="139" width="58" height="20" uuid="278d74f6-c1aa-42f3-acfb-24405092d0e3"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[페이지 : ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="682" y="139" width="10" height="20" uuid="f13f87f7-d5f6-4580-95c5-7127e127859b"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Report" isBlankWhenNull="true">
					<reportElement x="692" y="139" width="83" height="20" uuid="f9397a0d-aff4-4a1a-a5b5-66de031068b8"/>
					<textElement verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[" / " + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<elementGroup/>
				<line>
					<reportElement x="666" y="21" width="1" height="51" uuid="adaa67a1-80da-4773-b1b9-22d5a5a4db66"/>
				</line>
				<line>
					<reportElement x="666" y="71" width="111" height="1" uuid="43c599be-ed07-48e1-9a22-504b5872ae63"/>
				</line>
				<line>
					<reportElement x="721" y="21" width="1" height="50" uuid="3bfc82ff-547a-4e5b-af26-0baeaf7c70c8"/>
				</line>
				<line>
					<reportElement x="666" y="20" width="111" height="1" uuid="ebf1e01c-761d-4b9a-9c61-80493dea51d0"/>
				</line>
				<line>
					<reportElement x="666" y="39" width="111" height="1" uuid="05dda781-bdd9-415a-aa9f-429098260284"/>
				</line>
				<line>
					<reportElement x="776" y="21" width="1" height="50" uuid="84f86d3d-cc4b-4627-bb9b-ff246fc5482c"/>
				</line>
				<elementGroup/>
				<staticText>
					<reportElement x="22" y="139" width="58" height="20" uuid="d3234200-0bdc-4b8b-85b1-add26c273a9f"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[작업일자 : ]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="85" y="139" width="100" height="20" uuid="09a5650a-f9e6-4c74-9540-8c1b9f74baf0"/>
					<textElement verticalAlignment="Middle">
						<font size="9" pdfFontName="HYGoThic-Medium" pdfEncoding="UniKS-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{WORKYMD}]]></textFieldExpression>
				</textField>
				<componentElement>
					<reportElement x="281" y="89" width="240" height="60" uuid="da8ebaf0-2d81-4ffa-96ce-2c5870b30a9e"/>
					<jr:barbecue xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" type="Code128" drawText="true" checksumRequired="false">
						<jr:codeExpression><![CDATA[$F{DISTMANFNO}]]></jr:codeExpression>
					</jr:barbecue>
				</componentElement>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="88">
			<subreport>
				<reportElement x="20" y="0" width="755" height="86" uuid="4bd113b8-9b88-41f3-a84b-02151dd48608"/>
				<subreportParameter name="DISTMANFNO">
					<subreportParameterExpression><![CDATA[$F{DISTMANFNO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="COMPANYCD">
					<subreportParameterExpression><![CDATA[$F{COMPANYCD}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DCCD">
					<subreportParameterExpression><![CDATA[$F{DCCD}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CLIENTCD">
					<subreportParameterExpression><![CDATA[$F{CLIENTCD}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{subReport}]]></subreportExpression>
			</subreport>
		</band>
		<band height="110">
			<subreport>
				<reportElement x="20" y="10" width="753" height="100" uuid="7899849a-f05c-420e-bf67-1596e069bb6e"/>
				<subreportParameter name="DISTMANFNO">
					<subreportParameterExpression><![CDATA[$F{DISTMANFNO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="COMPANYCD">
					<subreportParameterExpression><![CDATA[$F{COMPANYCD}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="CLIENTCD">
					<subreportParameterExpression><![CDATA[$F{CLIENTCD}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DCCD">
					<subreportParameterExpression><![CDATA[$F{DCCD}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{subReport2}]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
