<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.comfunny.server.proj.sd.repository.LocDao">

    <select id="selectLevelDcList"  resultType="HMap"  parameterType="HMap">
        SELECT /*[LocDao.xml][selectLevelDcList] 로케이션관리 의 창고 데이터들을 조회 */
        BIZ_CD
        , DC_CD
        , DC_NM
        FROM tb_ms_dc
        WHERE 1=1
          AND BIZ_CD = #{s_bizCd}
    </select>

    <select id="selectLevelDcZoneList"  resultType="HMap"  parameterType="HMap">
        SELECT /*[LocDao.xml][selectLevelDcZoneList] 로케이션관리 의 창고존 데이터들을 조회 */
            BIZ_CD
             , DC_CD
             , ZONE_CD
             , ZONE_NM
        FROM tb_ms_zone
        WHERE 1=1
          AND BIZ_CD = #{bizCd}
          AND DC_CD = #{dcCd}
    </select>

    <select id="selectLevelDcZoneLocList"  resultType="HMap"  parameterType="HMap">
        SELECT /*[LocDao.xml][selectLevelDcZoneLocList] 로케이션관리 의 창고구역존로케이션 데이터들을 조회 */
               BIZ_CD
             , DC_CD
             , ZONE_CD
             , LOC_CD
             , LIN_CD
             , ROW_CD
             , LEV_CD
             , LOC_TYPE_CD
             , LOAD_GBN_CD
             , HOLD_ST_CD
             , LOC_PRIOORD
             , ITEM_MIX_LOAD_YN
             , LOT_MIX_LOAD_YN
             , HORIZONTAL
             , VERTICAL
             , HEIGHT
             , CBM
             , WEIGHT
             , REMARK
             , USE_YN
        FROM tb_ms_loc
        WHERE 1=1
          AND BIZ_CD = #{bizCd}
          AND DC_CD = #{dcCd}
          AND ZONE_CD = #{zoneCd}
    </select>
    <select id="selectLocList"  resultType="HMap"  parameterType="HMap">
        SELECT /*[LocDao.xml][selectLocList] 로케이션 데이터들을 조회 */
        LOC.BIZ_CD
        , LOC.DC_CD
        , DC.DC_NM
        , LOC.ZONE_CD
        , LOC.LOC_CD
        , LOC.LIN_CD
        , LOC.ROW_CD
        , LOC.LEV_CD
        , LOC.LOC_TYPE_CD
        , LOC.LOAD_GBN_CD
        , LOC.HOLD_ST_CD
        , LOC.LOC_PRIOORD
        , LOC.ITEM_MIX_LOAD_YN
        , LOC.LOT_MIX_LOAD_YN
        , LOC.HORIZONTAL
        , LOC.VERTICAL
        , LOC.HEIGHT
        , LOC.CBM
        , LOC.WEIGHT
        , LOC.REMARK
        , LOC.USE_YN
        FROM tb_ms_dc AS DC
        JOIN tb_ms_zone AS ZONE
        ON DC.BIZ_CD = ZONE.BIZ_CD
        AND DC.DC_CD = ZONE.DC_CD
        JOIN tb_ms_loc AS LOC
        ON ZONE.BIZ_CD = LOC.BIZ_CD
        AND ZONE.DC_CD = LOC.DC_CD
        AND ZONE.ZONE_CD = LOC.ZONE_CD
        WHERE 1=1
          AND LOC.BIZ_CD = #{s_bizCd}
        <if test="locCd != null and locCd != ''">
            AND LOC.LOC_CD LIKE '%'#{locCd}'%'
        </if>
    </select>

</mapper>
