<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.comfunny.server.proj.sys.repository.DashboardDao">

    <select id="getPdaDashboardFavoriteMenu"  resultType="java.util.Map" >
        SELECT /* [DashboardDao.query][getPdaDashboardFavoriteMenu][즐겨찾기 메뉴 조회][Kim Seon HO][2022-12-22] */
               PM.MENU_SEQ
             , NVL(PM.MENU_PARENT_SEQ,'') MENU_PARENT_SEQ
             , PM.PRO_CD
             , CASE WHEN M.DOMAIN_NM IS NULL THEN PM.MENU_NM ELSE M.DOMAIN_NM
               END MENU_NM
             , PM.MENU_ORDER
             , PM.MENU_ICO
        FROM tb_sy_menu PM
   LEFT JOIN tb_sy_domain M
          ON PM.BIZ_CD       = M.BIZ_CD
         AND PM.PRO_CD       = M.DOMAIN_ID
         AND M.LANG_CD       = #{langCd}
       WHERE PM.FAVOR_YN     = 'Y'
         AND PM.BIZ_CD       = #{bizCd}
    ORDER BY MENU_PARENT_SEQ
           , MENU_ORDER
    </select>


</mapper>
